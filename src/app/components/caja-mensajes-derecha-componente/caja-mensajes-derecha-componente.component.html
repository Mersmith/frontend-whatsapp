<ng-container *ngIf="mensajes && mensajes.length > 0; else noMensajes">

    <!-- MENSAJES -->
    <ng-container *ngFor="let mensaje of mensajes">

        <!-- FECHA -->
        <div *ngIf="mensaje.id_fecha == 1" [ngClass]="{
            'whatsapp_mensaje_fechas': true
          }">
            {{mensaje.fecha | date:'dd/MM/YYYY'}}
        </div>

        <!-- MENSAJE -->
        <div [ngClass]="{
        'whatsapp_mensaje': true,
        'amigo_mensaje': mensaje.envio === 0,
        'mi_mensaje': mensaje.envio === 1,
        'mensaje_respondido': mensaje.respondidoPor}"  >

            <div class="contenedor_mensaje" [id]="mensaje.wamid">
                <!-- MENSAJE RESPUESTA -->
                <div [ngClass]="{
                    'contenedor_mensaje_respuesta': true, 
                    'mi_respuesta': mensaje.respondidoPor === 'Tú', 
                    'amigo_respuesta': mensaje.respondidoPor !== 'Tú',
                    'opaco': mensaje.opaco    
                    }" *ngIf="mensaje.respondidoPor">
                    <span>{{ mensaje.respondidoPor }}</span>
                    <div class="contenido_mensaje_respuesta">
                        <a href="javascript:void(0)" (click)="scrollMensajeContexto(mensaje.context)">Ir a mensaje</a>
                    </div>
                </div>
                <!-- MENSAJE SOLO -->
                <app-mensaje-derecha-componente [mensaje]="mensaje"></app-mensaje-derecha-componente>
            </div>

        </div>

    </ng-container>

</ng-container>

<ng-template #noMensajes>
    <p>No hay mensajes disponibles.</p>
</ng-template>